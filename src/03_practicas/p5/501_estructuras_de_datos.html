<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Práctica 5 – Fundamentos de Informática</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-ed20e031201a2f52d49632ac7658f477.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark-315f621f901707706d3e135395544505.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-3a9bc45b6cb0139a6ebb837c83b4d0ce.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark-2c1606788b907b2185966d5072fee3a6.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="floating">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="3">
    <h2 id="toc-title">En esta página</h2>
   
  <ul>
  <li><a href="#biblioteca-de-números-complejos" id="toc-biblioteca-de-números-complejos" class="nav-link active" data-scroll-target="#biblioteca-de-números-complejos"><span class="header-section-number">1</span> Biblioteca de números complejos</a></li>
  <li><a href="#calculadora-de-números-complejos" id="toc-calculadora-de-números-complejos" class="nav-link" data-scroll-target="#calculadora-de-números-complejos"><span class="header-section-number">2</span> Calculadora de números complejos</a></li>
  <li><a href="#listas-de-números-complejos" id="toc-listas-de-números-complejos" class="nav-link" data-scroll-target="#listas-de-números-complejos"><span class="header-section-number">3</span> Listas de números complejos</a></li>
  <li><a href="#entrega-de-la-práctica" id="toc-entrega-de-la-práctica" class="nav-link" data-scroll-target="#entrega-de-la-práctica"><span class="header-section-number">4</span> Entrega de la práctica</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Práctica 5</h1>
<p class="subtitle lead">Objetos y listas</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="biblioteca-de-números-complejos" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="biblioteca-de-números-complejos"><span class="header-section-number">1</span> Biblioteca de números complejos</h2>
<p>En esta práctica vamos a realizar varios ejercicios que van a requerir trabajar con números complejos. Para ello, vamos a definir un módulo denominado <code>complejos.py</code> que contendrá una serie de funciones generales necesarias para resolver ambos problemas.</p>
<p>En el módulo <code>complejos.py</code> debes definir:</p>
<ul>
<li>Una clase (<em>dataclass</em>) denominada <code>Complejo</code>, que represente un número complejo con dos atributos: <code>real</code> e <code>imag</code>.</li>
<li>Una función denominada <code>str_complejo()</code> que, dado un dato de tipo <code>Complejo</code> devuelva un string con la representación del número en forma binomial (<span class="math inline">\(a+bi\)</span>) con 4 decimales máximos para cada componente.</li>
<li>Una función denominada <code>sumar()</code> que, dados dos número complejos, devuelva otro que represente su suma.</li>
<li>Una función denominada <code>restar()</code> que, dados dos número complejos, devuelva otro que represente su diferencia.</li>
<li>Una función denominada <code>modulo()</code> que, dado un número complejo, devuelva su módulo.</li>
<li>Una función denominada <code>mayor_que()</code>, <code>menor_que()</code> e <code>igual_que()</code> que, dados dos números complejos, devuelvan <code>True</code> si se cumple que el módulo del primero sea mayor/menor/igual que el módulo del segundo.</li>
</ul>
<!-- NOTE: Queremos que controlen el número de decimales redondeando a 4. -->
<p>Ejemplo de representación:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="bu">print</span>(str_complejo(Complejo(<span class="dv">3</span>, <span class="dv">4</span>)))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="line-block">3+4i</div>
<p>Ejemplo de representación:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="bu">print</span>(str_complejo(Complejo(<span class="fl">3.22</span>, <span class="fl">4.1111111111</span>)))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="line-block">3.22+4.1111i</div>
<p>Ejemplo de ejecución de la función <code>sumar()</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="bu">print</span>(str_complejo(sumar(Complejo(<span class="dv">3</span>, <span class="dv">4</span>), Complejo(<span class="dv">1</span>, <span class="dv">2</span>))))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="line-block">4+6i</div>
<p>Ejemplo de ejecución de la función <code>modulo()</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="bu">print</span>(modulo(Complejo(<span class="dv">3</span>, <span class="dv">4</span>)))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="line-block">5.0</div>
<p><strong>Entrega:</strong> Escribe tu programa en un fichero denominado <code>complejos.py</code>.</p>
<p><strong>Pruebas:</strong> Si ejecutas el código del fichero <a href="./tests/test_complejos.py"><code>test_complejos.py</code></a>, se harán pruebas de unidad de ese módulo.</p>
</section>
<section id="calculadora-de-números-complejos" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="calculadora-de-números-complejos"><span class="header-section-number">2</span> Calculadora de números complejos</h2>
<p>Escribe un programa Python <code>calculadora.py</code> que implemente una <strong>calculadora de números complejos</strong> con las siguientes operaciones: suma y resta. El programa debe:</p>
<ul>
<li>Pedir al usuario que introduzca dos números complejos.</li>
<li>Pedir al usuario que introduzca la operación a realizar.</li>
<li>Calcular el resultado de la operación.</li>
<li>Mostrar el resultado con la representación binomial: (<span class="math inline">\(a+bi\)</span>), donde <span class="math inline">\(a\)</span> es la parte real y <span class="math inline">\(b\)</span> es la parte imaginaria del número complejo.</li>
</ul>
<!-- NOTE: Quito esta parte específicamente para ver si se les ocurre reutilizar. Al ser i/o no le voy a hacer un unittest o sea que da igual -->
<!-- En el fichero `calculadora.py` debes importar el contenido del módulo `complejos.py` y -->
<!-- - Una función denominada `pedir_numero_complejo()` que solicite al usuario la parte real y la parte imaginaria de un número complejo y devuelva un dato de tipo `Complejo` -->
<!-- - Una función denominada `pedir_operacion()`, que pida al usuario una operación representada como `"+"` o `"-"` y escribir el código del programa solicitado.  -->
<p>El comportamiento del programa debe ser como el siguiente:</p>
<div class="line-block">Escribe un número complejo:<br>
- Parte real: <strong>8.3</strong><br>
- Parte imaginaria: <strong>3</strong><br>
Escribe otro número complejo:<br>
- Parte real: <strong>1</strong><br>
- Parte imaginaria: <strong>2</strong><br>
Introduce la operación: <strong>+</strong><br>
9.3+5.0i</div>
<p>Otro ejemplo de ejecución (observa en este caso cómo se escribe la parte imaginaria del resultado):</p>
<div class="line-block">Escribe un número complejo:<br>
- Parte real: <strong>3</strong><br>
- Parte imaginaria: <strong>3</strong><br>
Escribe otro número complejo:<br>
- Parte real: <strong>3</strong><br>
- Parte imaginaria: <strong>5</strong><br>
Introduce la operación: <strong>-</strong><br>
0.0-2.0i</div>
<p>Un último ejemplo de ejecución:</p>
<div class="line-block">Escribe un número complejo:<br>
- Parte real: <strong>3.14</strong><br>
- Parte imaginaria: <strong>-4.4</strong><br>
Escribe otro número complejo:<br>
- Parte real: <strong>16.3</strong><br>
- Parte imaginaria: <strong>0.33</strong><br>
Introduce la operación: <strong>*</strong><br>
Operación no válida</div>
<p><strong>Entrega:</strong> Escribe tu programa en un fichero denominado <code>calculadora.py</code>.</p>
</section>
<section id="listas-de-números-complejos" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="listas-de-números-complejos"><span class="header-section-number">3</span> Listas de números complejos</h2>
<p>Escribe un programa, en un fichero denominado <code>lista_complejos.py</code>, que genere una lista de <span class="math inline">\(n\)</span> números complejos, con sus partes real e imaginaria elegidas en un intervalo <span class="math inline">\((x, y)\)</span> de manera aleatoria (recuerda el tema de <a href="../../../src/01_teoria/03_composicion/306_composicion_iterativa_avanzada.html#números-pseudo-aleatorios-en-python">generación de números aleatorios</a>. El programa debe, en primer lugar, solicitar al usuario el número <span class="math inline">\(n\)</span> de números complejos con el que desea trabajar y, a continuación, pedir los límites del intervalo <span class="math inline">\((x, y)\)</span> al usuario, garantizando que los valores introducidos cumplen que <span class="math inline">\(x &lt; y\)</span>. Después, mostrará al usuario todos los números complejos generados. Posteriormente, mostrará al usuario el número complejo de mayor módulo de la lista y la suma de todos los complejos generados. El programa terminará escribiendo en la pantalla la lista de los números complejos generados que pertenecen al primer cuadrante (aquellos en los que la parte real y la parte imaginaria son estrictamente positivas).</p>
<p>Para escribir este programa, deberás apoyarte de nuevo en el contenido de tu módulo <code>complejos.py</code>. En el fichero <code>lista_complejos.py</code>, define:</p>
<ul>
<li>Una función <code>generar_complejo_aleatorio()</code> que dados dos valores que representan un intervalo, genere un número complejo con partes real e imaginaria aleatorias, ambas dentro de ese intervalo.</li>
<li>Una función <code>generar_lista_complejos()</code> que, dada una longitud y dos valores que representan un intervalo, genere una lista de números complejos con las características indicadas.</li>
<li>Una función <code>str_lista_complejos()</code> que dada una lista de complejos, devuelva un string con la representación de todos los números complejos de la lista.</li>
<li>Una función <code>minimo_lista_complejos()</code> que dada una lista de complejos, devuelva el complejo de menor módulo. Si la lista está vacía, devolverá <code>None</code>.</li>
<li>Una función <code>suma_lista_complejos()</code> que dada una lista de complejos, devuelva la suma de todos los complejos de la lista.</li>
<li>Una función <code>filtrar_primer_cuadrante()</code> que dada una lista de complejos, devuelva una lista con los complejos que pertenecen al primer cuadrante.</li>
</ul>
<p>Ejemplo de ejecución:</p>
<div class="line-block">Introduce el número de complejos a generar: <strong>5</strong><br>
Introduce el límite inferior: <strong>0</strong><br>
Introduce el límite superior: <strong>10</strong><br>
<br>
Lista de números complejos generada:<br>
6.2752+2.1476i, 4.2194+0.592i, 7.341+4.6596i, 2.3868+8.4841i, 9.5767+1.3759i<br>
<br>
Número complejo de menor módulo:<br>
4.2194+0.592i<br>
<br>
<br>
Suma de los números complejos:<br>
29.7991+17.2591i<br>
<br>
<br>
Números complejos del primer cuadrante:<br>
6.2752+2.1476i, 4.2194+0.592i, 7.341+4.6596i, 2.3868+8.4841i, 9.5767+1.3759i</div>
<p>Ejemplo de ejecución:</p>
<div class="line-block">Introduce el número de complejos a generar: <strong>6</strong><br>
Introduce el límite inferior: <strong>-0.1</strong><br>
Introduce el límite superior: <strong>0</strong><br>
<br>
Lista de números complejos generada:<br>
-0.0361-0.079i, -0.0133-0.02i, -0.0929-0.0308i, -0.0059-0.0334i, -0.0047-0.0187i, -0.0283-0.0315i<br>
<br>
Número complejo de menor módulo:<br>
-0.0047-0.0187i<br>
<br>
<br>
Suma de los números complejos:<br>
-0.1812-0.2133i<br>
<br>
<br>
Números complejos del primer cuadrante:<br>
</div>
<p>Ejemplo de ejecución:</p>
<div class="line-block">Introduce el número de complejos a generar: <strong>-8</strong><br>
Introduce el número de complejos a generar: <strong>0</strong><br>
Introduce el número de complejos a generar: <strong>4</strong><br>
Introduce el límite inferior: <strong>8</strong><br>
Introduce el límite superior: <strong>1</strong><br>
Introduce el límite inferior: <strong>-2</strong><br>
Introduce el límite superior: <strong>2</strong><br>
<br>
Lista de números complejos generada:<br>
-0.9437+0.6562i, 0.5002+0.7605i, 0.9307+1.7915i, -1.7906-0.4771i<br>
<br>
Número complejo de menor módulo:<br>
0.5002+0.7605i<br>
<br>
<br>
Suma de los números complejos:<br>
-1.3033+2.7311i<br>
<br>
<br>
Números complejos del primer cuadrante:<br>
0.5002+0.7605i, 0.9307+1.7915i</div>
<p><strong>Entrega:</strong> Escribe tu programa en un fichero denominado <code>lista_complejos.py</code>.</p>
<p><strong>Pruebas:</strong> Si ejecutas el código del fichero <a href="./tests/test_lista_complejos.py"><code>test_lista_complejos.py</code></a>, se harán pruebas de unidad de ese módulo.</p>
</section>
<section id="entrega-de-la-práctica" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="entrega-de-la-práctica"><span class="header-section-number">4</span> Entrega de la práctica</h2>
<p><strong>Antes del 26 de abril a las 18:00,</strong> deberán haberse subido a Moodle los siguientes ficheros:</p>
<ul class="task-list">
<li><label><input type="checkbox"><code>complejos.py</code></label></li>
<li><label><input type="checkbox"><code>calculadora.py</code></label></li>
<li><label><input type="checkbox"><code>lista_complejos.py</code></label></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>